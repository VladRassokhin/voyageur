--- SConstruct.orig	2009-11-17 14:08:35.000000000 +0100
+++ SConstruct	2009-11-17 14:09:53.000000000 +0100
@@ -157,13 +157,16 @@
 		print 'Using architecture: ' + arch
 
 	env.Append(LINKFLAGS = '`pkg-config --libs-only-L x11`')
+	if os.environ.has_key('CXXFLAGS'):
+		ccflags += os.environ['CXXFLAGS']
+	if os.environ.has_key('LDFLAGS'):
+		env.Append(LINKFLAGS = os.environ['LDFLAGS'])
 	if (debug >= 3):
 		ccflags += ' -g -pg -O3 -march=' + arch	# profiling
 	elif (debug == 2):
 		ccflags += ' -g -O0 -march=' + arch
 		env.Append(CPPDEFINES = ['DEBUG'])
 	elif (debug == 1):
-		ccflags += ' -g -O1 -march=' + arch
 		env.Append(CPPDEFINES = ['DEBUG'])
 	elif (debug == -1):
 		ccflags += ' -g -O3 -march=' + arch + ' -mfpmath=sse -mmmx -msse -m3dnow'
@@ -177,8 +180,6 @@
 			env.Replace(CXX = "icpc")
 			ccflags += ' -ip -w '
 			build_dir = 'linux-icc'
-		else:
-			ccflags += ' -g -O2 -march=' + arch # debug symbols will be stripped by the linker for a debian package
 
 	if (useefence >= 1):
 		extralibs += ['efence']
