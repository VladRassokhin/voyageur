--- ../../gtkmm-2.10.2/work/gtkmm-2.10.2/configure.in	2006-09-22 05:48:20.000000000 +1000
+++ gtkmm-2.10.2/configure.in	2006-11-19 17:03:24.000000000 +1100
@@ -452,7 +452,13 @@
 	atk/atkmm/Makefile
 	atk/atkmm/private/Makefile
   ])
+
+#Adds atkmm-1.6 to the pkg-config file only if atk support is enabled:
+  ATK_PC=atkmm-1.6
+else
+  ATK_PC=
 fi
+AC_SUBST(ATK_PC)
 
 #Allow us to test for atkmm support in Makefile.am files:
 AM_CONDITIONAL(GTKMM_ATKMM_ENABLED, test "x$gtkmm_enable_api_atkmm" = "xyes")
--- gtkmm-2.10.2/gtk/gtkmm-2.4.pc.in	2004-04-11 22:00:53.000000000 +0100
+++ gtkmm-2.10.2new/gtk/gtkmm-2.4.pc.in	2006-11-18 13:45:06.000000000 +0000
@@ -5,7 +5,7 @@
 
 Name: gtkmm
 Description: C++ wrapper for GTK+
-Requires: glibmm-2.4 gdkmm-2.4 pangomm-1.4 atkmm-1.6 gtk+-2.0
+Requires: glibmm-2.4 gdkmm-2.4 pangomm-1.4 @ATK_PC@ gtk+-2.0
 Version: @VERSION@
 Libs: -L${libdir} -lgtkmm-2.4
 Cflags: -I${includedir}/gtkmm-2.4 -I${libdir}/gtkmm-2.4/include
